<div class="flex h-full w-full flex-col gap-8 px-4 py-8">
  <%# Product Info %>
  <div class="grid w-full grid-cols-1 gap-8 lg:grid-cols-2">
    <%# Left: Product Image %>
    <div class="overflow-hidden rounded-lg shadow-md">
      <img
        src="https://images.pexels.com/photos/106399/pexels-photo-106399.jpeg"
        alt="Product"
        class="h-full w-full object-cover"
      />
    </div>

    <%# Right: Product Details %>
    <div class="flex flex-col gap-4 rounded-lg bg-white p-6 shadow-md">
      <h2 class="text-3xl font-bold text-gray-900"><%= @product.name %></h2>
      <p class="text-base text-gray-700">
        <%= @product.description %>
      </p>

      <ul class="list-inside list-disc text-sm text-gray-800">
        <li>Durable material</li>
        <li>Elegant design</li>
        <li>2-year warranty</li>
      </ul>

      <p class="mt-2 text-xl font-semibold text-gray-900">
        Rating: <%= @product.feedbacks.average(:rating).to_f.round(2) %>
      </p>

      <button class="mt-4 w-fit rounded bg-blue-600 px-6 py-2 text-white transition hover:bg-blue-700">
        <%= link_to "Leave Feedback", new_product_feedback_path(@product), data: { turbo_frame: dom_id(Feedback.new) } %>
      </button>

      <%= turbo_frame_tag Feedback.new %>
    </div>
  </div>

  <%# Reviews Section %>
  <div class="flex flex-col gap-8 pb-6 lg:flex-row">
    <div class="hidden rounded-md border bg-white p-4 shadow-sm lg:block lg:w-1/4">
      <p class="text-sm text-gray-600">Sidebar content</p>
    </div>

    <div class="flex w-full flex-col gap-6">
      <%# Feedback Cards %>
      <%== pagy_nav(@pagy) %>

      <%= turbo_frame_tag "feedbacks" do %>
        <% if @feedbacks.any? %>
          <%= render @feedbacks, product: @product %>
        <% else %>
          <div>No feedback</div>
        <%end%>
      <% end %>
    </div>
  </div>
</div>